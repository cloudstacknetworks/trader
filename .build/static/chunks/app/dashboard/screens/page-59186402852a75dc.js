(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6652],{10261:function(e,a,s){Promise.resolve().then(s.bind(s,40696)),Promise.resolve().then(s.bind(s,50158))},50158:function(e,a,s){"use strict";s.d(a,{default:function(){return E}});var i=s(15444),t=s(89300),n=s(79047),r=s(99827),l=s(2422),m=s(74678),d=s(34635),c=s(61335),o=s(25181),x=s(56948),u=s(29530),h=s(39429),p=s(66772),g=s(92690),j=s(64670),v=s(81471),f=s(26378),N=s(20357),b=s(1804),y=s(40563),C=s(77694);function E(){let e=(0,n.useRouter)(),[a,s]=(0,t.useState)([]),[E,w]=(0,t.useState)(!0),[S,P]=(0,t.useState)(""),[M,R]=(0,t.useState)(""),[k,F]=(0,t.useState)(!1),[T,G]=(0,t.useState)(null),[D,O]=(0,t.useState)(null),[I,_]=(0,t.useState)(null),[A,V]=(0,t.useState)({name:"",description:"",screenType:"OSHAUGHNESSY",isActive:!1,minPE:0,maxPE:999,minPS:0,maxPS:999,minPB:0,maxPB:999,minPCF:0,maxPCF:999,minROE:-999,maxROE:999,minDebtToEquity:0,maxDebtToEquity:999,minCurrentRatio:0,maxCurrentRatio:999,minRevenueGrowth:-999,maxRevenueGrowth:999,minEarningsGrowth:-999,maxEarningsGrowth:999,minDividendYield:0,maxDividendYield:999,minMarketCap:0,maxMarketCap:999999999999,minVolume:0,maxVolume:999999999999,minMomentum:-999,maxMomentum:999,minEarningsSurprise:5,allocatedCapital:0,maxPositions:10});(0,t.useEffect)(()=>{Y()},[]);let Y=async()=>{try{w(!0),P("");let e=await fetch("/api/screens");if(!e.ok)throw Error("Failed to fetch screens");let a=await e.json(),i=await fetch("/api/watchlist");if(!i.ok)throw Error("Failed to fetch watchlist");let t=await i.json(),n={};t.forEach(e=>{n[e.screenId]=(n[e.screenId]||0)+1});let r=a.map(e=>({...e,_count:{watchlistItems:n[e.id]||0}}));s(r)}catch(e){P(e.message||"Failed to load screens")}finally{w(!1)}},Z=()=>{G(null),V({name:"",description:"",screenType:"OSHAUGHNESSY",isActive:!1,minPE:0,maxPE:999,minPS:0,maxPS:999,minPB:0,maxPB:999,minPCF:0,maxPCF:999,minROE:-999,maxROE:999,minDebtToEquity:0,maxDebtToEquity:999,minCurrentRatio:0,maxCurrentRatio:999,minRevenueGrowth:-999,maxRevenueGrowth:999,minEarningsGrowth:-999,maxEarningsGrowth:999,minDividendYield:0,maxDividendYield:999,minMarketCap:0,maxMarketCap:999999999999,minVolume:0,maxVolume:999999999999,minMomentum:-999,maxMomentum:999,minEarningsSurprise:5,allocatedCapital:0,maxPositions:10}),F(!0)},B=e=>{G(e),V({name:e.name,description:e.description||"",screenType:e.screenType||"OSHAUGHNESSY",isActive:e.isActive,minPE:e.minPE||0,maxPE:e.maxPE||999,minPS:e.minPS||0,maxPS:e.maxPS||999,minPB:e.minPB||0,maxPB:e.maxPB||999,minPCF:e.minPCF||0,maxPCF:e.maxPCF||999,minROE:e.minROE||-999,maxROE:e.maxROE||999,minDebtToEquity:e.minDebtToEquity||0,maxDebtToEquity:e.maxDebtToEquity||999,minCurrentRatio:e.minCurrentRatio||0,maxCurrentRatio:e.maxCurrentRatio||999,minRevenueGrowth:e.minRevenueGrowth||-999,maxRevenueGrowth:e.maxRevenueGrowth||999,minEarningsGrowth:e.minEarningsGrowth||-999,maxEarningsGrowth:e.maxEarningsGrowth||999,minDividendYield:e.minDividendYield||0,maxDividendYield:e.maxDividendYield||999,minMarketCap:e.minMarketCap||0,maxMarketCap:e.maxMarketCap||999999999999,minVolume:e.minVolume||0,maxVolume:e.maxVolume||999999999999,minMomentum:e.minMomentum||-999,maxMomentum:e.maxMomentum||999,minEarningsSurprise:e.minEarningsSurprise||5,allocatedCapital:e.allocatedCapital||0,maxPositions:e.maxPositions||10}),F(!0)},q=e=>{G(null),V({name:`${e.name} (Copy)`,description:e.description||"",screenType:e.screenType||"OSHAUGHNESSY",isActive:!1,minPE:e.minPE||0,maxPE:e.maxPE||999,minPS:e.minPS||0,maxPS:e.maxPS||999,minPB:e.minPB||0,maxPB:e.maxPB||999,minPCF:e.minPCF||0,maxPCF:e.maxPCF||999,minROE:e.minROE||-999,maxROE:e.maxROE||999,minDebtToEquity:e.minDebtToEquity||0,maxDebtToEquity:e.maxDebtToEquity||999,minCurrentRatio:e.minCurrentRatio||0,maxCurrentRatio:e.maxCurrentRatio||999,minRevenueGrowth:e.minRevenueGrowth||-999,maxRevenueGrowth:e.maxRevenueGrowth||999,minEarningsGrowth:e.minEarningsGrowth||-999,maxEarningsGrowth:e.maxEarningsGrowth||999,minDividendYield:e.minDividendYield||0,maxDividendYield:e.maxDividendYield||999,minMarketCap:e.minMarketCap||0,maxMarketCap:e.maxMarketCap||999999999999,minVolume:e.minVolume||0,maxVolume:e.maxVolume||999999999999,minMomentum:e.minMomentum||-999,maxMomentum:e.maxMomentum||999,minEarningsSurprise:e.minEarningsSurprise||5,allocatedCapital:e.allocatedCapital||0,maxPositions:e.maxPositions||10}),F(!0)},z=async()=>{try{if(P(""),R(""),!A.name.trim()){P("Screen name is required");return}let e=T?`/api/screens/${T.id}`:"/api/screens",a=await fetch(e,{method:T?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to save screen")}R(T?"Screen updated successfully":"Screen created successfully"),F(!1),Y()}catch(e){P(e.message||"Failed to save screen")}},$=async e=>{try{P(""),R("");let a=await fetch(`/api/screens/${e}`,{method:"DELETE"});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to delete screen")}R("Screen deleted successfully"),O(null),Y()}catch(e){P(e.message||"Failed to delete screen")}},H=async e=>{try{P("");let a=await fetch(`/api/screens/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!e.isActive})});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to update screen")}R(`Screen ${e.isActive?"deactivated":"activated"} successfully`),Y()}catch(e){P(e.message||"Failed to update screen")}},U=async(e,a)=>{try{P(""),R(""),_(e);let s=await fetch("/api/trading/run-screening",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({screenId:e})}),i=await s.json();if(!s.ok)throw Error(i.error||"Failed to refresh screen");R(`Screen "${a}" refreshed! Found ${i.stocksFound||0} matching stocks.`),Y()}catch(e){P(e.message||"Failed to refresh screen")}finally{_(null)}},L=e=>e>=1e9?`$${(e/1e9).toFixed(1)}B`:e>=1e6?`$${(e/1e6).toFixed(0)}M`:`$${e.toLocaleString()}`;return E?(0,i.jsx)("div",{className:"p-6",children:(0,i.jsx)(r.Zb,{children:(0,i.jsx)(r.aY,{className:"p-6",children:(0,i.jsx)("p",{className:"text-muted-foreground",children:"Loading screens..."})})})}):(0,i.jsxs)("div",{className:"p-6 space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-bold",children:"Screen Management"}),(0,i.jsx)("p",{className:"text-muted-foreground mt-1",children:"Create, test, and activate O'Shaughnessy screening strategies"})]}),(0,i.jsxs)(l.z,{onClick:Z,className:"gap-2",children:[(0,i.jsx)(h.Z,{className:"h-4 w-4"}),"Create New Screen"]})]}),S&&(0,i.jsxs)(x.bZ,{variant:"destructive",children:[(0,i.jsx)(p.Z,{className:"h-4 w-4"}),(0,i.jsx)(x.X,{children:S})]}),M&&(0,i.jsxs)(x.bZ,{className:"border-green-500 bg-green-50 dark:bg-green-950",children:[(0,i.jsx)(g.Z,{className:"h-4 w-4 text-green-600"}),(0,i.jsx)(x.X,{className:"text-green-600",children:M})]}),(0,i.jsxs)(x.bZ,{children:[(0,i.jsx)(p.Z,{className:"h-4 w-4"}),(0,i.jsxs)(x.X,{children:[(0,i.jsx)("strong",{children:"Testing vs Trading:"}),' Create and test new screens with "Active for Trading" OFF. Only activate screens after verifying they yield good results. Active screens will be used for real trades.']})]}),(0,i.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,i.jsxs)(r.Zb,{children:[(0,i.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,i.jsx)(r.ll,{className:"text-sm font-medium",children:"Total Screens"}),(0,i.jsx)(j.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsx)(r.aY,{children:(0,i.jsx)("div",{className:"text-2xl font-bold",children:a.length})})]}),(0,i.jsxs)(r.Zb,{children:[(0,i.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,i.jsx)(r.ll,{className:"text-sm font-medium",children:"Active for Trading"}),(0,i.jsx)(g.Z,{className:"h-4 w-4 text-green-600"})]}),(0,i.jsx)(r.aY,{children:(0,i.jsx)("div",{className:"text-2xl font-bold text-green-600",children:a.filter(e=>e.isActive).length})})]}),(0,i.jsxs)(r.Zb,{children:[(0,i.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,i.jsx)(r.ll,{className:"text-sm font-medium",children:"Total Stocks"}),(0,i.jsx)(j.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsx)(r.aY,{children:(0,i.jsx)("div",{className:"text-2xl font-bold",children:a.reduce((e,a)=>e+(a._count?.watchlistItems||0),0)})})]})]}),(0,i.jsxs)("div",{className:"grid gap-4",children:[a.map(a=>(0,i.jsxs)(r.Zb,{className:a.isActive?"border-green-500":"",children:[(0,i.jsx)(r.Ol,{children:(0,i.jsxs)("div",{className:"flex items-start justify-between",children:[(0,i.jsxs)("div",{className:"space-y-1 flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)(r.ll,{children:a.name}),(0,i.jsx)(c.C,{variant:"EARNINGS"===a.screenType?"default":"outline",className:"EARNINGS"===a.screenType?"bg-purple-600":"",children:"EARNINGS"===a.screenType?"âš¡ Earnings":"\uD83D\uDCCA O'Shaughnessy"}),a.isActive?(0,i.jsx)(c.C,{className:"bg-green-600",children:"Active for Trading"}):(0,i.jsx)(c.C,{variant:"outline",children:"Testing Only"}),(0,i.jsxs)(c.C,{variant:"secondary",children:[a._count?.watchlistItems||0," stocks"]}),a.allocatedCapital&&a.allocatedCapital>0&&(0,i.jsxs)(c.C,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-300",children:["$",(a.currentCapital||a.allocatedCapital).toLocaleString()," / $",a.allocatedCapital.toLocaleString()]})]}),(0,i.jsx)(r.SZ,{children:a.description})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>U(a.id,a.name),disabled:I===a.id,className:"gap-2",children:[(0,i.jsx)(v.Z,{className:`h-4 w-4 ${I===a.id?"animate-spin":""}`}),I===a.id?"Refreshing...":"Refresh"]}),"EARNINGS"===a.screenType&&(0,i.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>e.push(`/dashboard/earnings-results/${a.id}`),className:"gap-2",children:[(0,i.jsx)(f.Z,{className:"h-4 w-4"}),"View Results"]}),(0,i.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>B(a),className:"gap-2",children:[(0,i.jsx)(N.Z,{className:"h-4 w-4"}),"Edit"]}),(0,i.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>q(a),className:"gap-2",children:[(0,i.jsx)(b.Z,{className:"h-4 w-4"}),"Clone"]}),D===a.id?(0,i.jsxs)("div",{className:"flex gap-1",children:[(0,i.jsx)(l.z,{variant:"destructive",size:"sm",onClick:()=>$(a.id),children:"Confirm"}),(0,i.jsx)(l.z,{variant:"outline",size:"sm",onClick:()=>O(null),children:"Cancel"})]}):(0,i.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>O(a.id),className:"gap-2 text-red-600 hover:text-red-700",children:[(0,i.jsx)(y.Z,{className:"h-4 w-4"}),"Delete"]})]})]})}),(0,i.jsxs)(r.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[(0,i.jsx)(d._,{className:"text-base font-semibold",children:a.isActive?"Active for Trading":"Testing Mode"}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:a.isActive?"This screen is being used for live trading decisions":"Enable this to use screen for actual trades"})]}),(0,i.jsx)(o.r,{checked:a.isActive,onCheckedChange:()=>H(a)})]}),"EARNINGS"===a.screenType?(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)(x.bZ,{children:[(0,i.jsx)(p.Z,{className:"h-4 w-4"}),(0,i.jsxs)(x.X,{children:[(0,i.jsx)("strong",{children:"Earnings Strategy:"})," Trades stocks that beat earnings by ",a.minEarningsSurprise||5,"%+ on their reporting date.",a.minMarketCap&&a.minMarketCap>0||a.maxMarketCap&&a.maxMarketCap<999999999999?" Filtered by market cap.":" No market cap filter."]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-muted-foreground",children:"Min Earnings Surprise"}),(0,i.jsxs)("p",{className:"font-medium text-purple-600",children:[a.minEarningsSurprise||5,"%"]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-muted-foreground",children:"Market Cap Range"}),(0,i.jsxs)("p",{className:"font-medium",children:[L(a.minMarketCap||0)," - ",L(a.maxMarketCap||999999999999)]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-muted-foreground",children:"Min Volume"}),(0,i.jsx)("p",{className:"font-medium",children:(a.minVolume||0).toLocaleString()})]})]})]}):(0,i.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-muted-foreground",children:"Market Cap"}),(0,i.jsxs)("p",{className:"font-medium",children:[L(a.minMarketCap||0)," - ",L(a.maxMarketCap||999999999999)]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-muted-foreground",children:"P/E Ratio"}),(0,i.jsxs)("p",{className:"font-medium",children:[a.minPE||0," - ",a.maxPE||999]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-muted-foreground",children:"P/S Ratio"}),(0,i.jsxs)("p",{className:"font-medium",children:[a.minPS||0," - ",a.maxPS||999]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-muted-foreground",children:"Momentum"}),(0,i.jsxs)("p",{className:"font-medium",children:[a.minMomentum||0,"% - ",a.maxMomentum||999,"%"]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-muted-foreground",children:"Volume"}),(0,i.jsxs)("p",{className:"font-medium",children:[(a.minVolume||0).toLocaleString()," - ",(a.maxVolume||999999999999).toLocaleString()]})]})]})]})]},a.id)),0===a.length&&(0,i.jsx)(r.Zb,{children:(0,i.jsxs)(r.aY,{className:"p-12 text-center",children:[(0,i.jsx)(C.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,i.jsx)("p",{className:"text-lg font-medium mb-2",children:"No screens yet"}),(0,i.jsx)("p",{className:"text-muted-foreground mb-4",children:"Create your first O'Shaughnessy screening strategy to get started"}),(0,i.jsxs)(l.z,{onClick:Z,className:"gap-2",children:[(0,i.jsx)(h.Z,{className:"h-4 w-4"}),"Create Screen"]})]})})]}),(0,i.jsx)(u.Vq,{open:k,onOpenChange:F,children:(0,i.jsxs)(u.cZ,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,i.jsxs)(u.fK,{children:[(0,i.jsx)(u.$N,{children:T?"Edit Screen":"Create New Screen"}),(0,i.jsx)(u.Be,{children:T?"Modify the screening criteria below":"Define your O'Shaughnessy screening criteria"})]}),(0,i.jsxs)("div",{className:"space-y-4 py-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"name",children:"Screen Name *"}),(0,i.jsx)(m.I,{id:"name",value:A.name,onChange:e=>V({...A,name:e.target.value}),placeholder:"e.g., Small Cap Value"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"description",children:"Description"}),(0,i.jsx)(m.I,{id:"description",value:A.description,onChange:e=>V({...A,description:e.target.value}),placeholder:"Brief description of the screening strategy"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"screenType",children:"Screen Type *"}),(0,i.jsxs)("select",{id:"screenType",value:A.screenType,onChange:e=>V({...A,screenType:e.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[(0,i.jsx)("option",{value:"OSHAUGHNESSY",children:"O'Shaughnessy (Value/Growth Screening)"}),(0,i.jsx)("option",{value:"EARNINGS",children:"Earnings Beats (Day Trading)"})]}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"OSHAUGHNESSY"===A.screenType?"Traditional screening using financial ratios, then trading on positive news":"Day trading stocks that beat earnings expectations (no pre-screening required)"})]}),"EARNINGS"===A.screenType&&(0,i.jsxs)("div",{className:"space-y-3 border-t pt-4",children:[(0,i.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground uppercase",children:"Earnings Strategy Settings"}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"minEarningsSurprise",children:"Minimum Earnings Surprise %"}),(0,i.jsx)(m.I,{id:"minEarningsSurprise",type:"number",step:"0.1",value:A.minEarningsSurprise,onChange:e=>V({...A,minEarningsSurprise:Number(e.target.value)})}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Only trade stocks that beat estimates by this % or more (e.g., 5.0 = beat by 5%+)"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"allocatedCapital",children:"Allocated Capital (Paper Money) $"}),(0,i.jsx)(m.I,{id:"allocatedCapital",type:"number",step:"100",min:"0",value:A.allocatedCapital,onChange:e=>V({...A,allocatedCapital:Number(e.target.value)}),placeholder:"e.g., 1000"}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Amount of paper (fake) money allocated to this strategy. New trades will divide remaining capital equally."})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"maxPositions",children:"Max Positions Per Day"}),(0,i.jsx)(m.I,{id:"maxPositions",type:"number",step:"1",min:"5",max:"15",value:A.maxPositions,onChange:e=>V({...A,maxPositions:Math.max(5,Math.min(15,Number(e.target.value)))}),placeholder:"10"}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"Maximum number of stocks to trade per day (5-15 range). Best opportunities are prioritized by earnings surprise %."})]}),(0,i.jsxs)(x.bZ,{children:[(0,i.jsx)(p.Z,{className:"h-4 w-4"}),(0,i.jsxs)(x.X,{children:[(0,i.jsx)("strong",{children:"Market Cap & Volume filters below"})," can be used to restrict which earnings beats to trade. All other O'Shaughnessy criteria (P/E, ROE, etc.) are ignored for earnings screens."]})]})]}),"OSHAUGHNESSY"===A.screenType&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"space-y-3 border-t pt-4",children:[(0,i.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground uppercase",children:"Valuation Metrics"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"minPE",children:"Min P/E Ratio"}),(0,i.jsx)(m.I,{id:"minPE",type:"number",step:"0.1",value:A.minPE,onChange:e=>V({...A,minPE:Number(e.target.value)})})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"maxPE",children:"Max P/E Ratio"}),(0,i.jsx)(m.I,{id:"maxPE",type:"number",step:"0.1",value:A.maxPE,onChange:e=>V({...A,maxPE:Number(e.target.value)})})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"minPS",children:"Min P/S Ratio"}),(0,i.jsx)(m.I,{id:"minPS",type:"number",step:"0.1",value:A.minPS,onChange:e=>V({...A,minPS:Number(e.target.value)})})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"maxPS",children:"Max P/S Ratio"}),(0,i.jsx)(m.I,{id:"maxPS",type:"number",step:"0.1",value:A.maxPS,onChange:e=>V({...A,maxPS:Number(e.target.value)})})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"minPB",children:"Min P/B Ratio"}),(0,i.jsx)(m.I,{id:"minPB",type:"number",step:"0.1",value:A.minPB,onChange:e=>V({...A,minPB:Number(e.target.value)})})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"maxPB",children:"Max P/B Ratio"}),(0,i.jsx)(m.I,{id:"maxPB",type:"number",step:"0.1",value:A.maxPB,onChange:e=>V({...A,maxPB:Number(e.target.value)})})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"minPCF",children:"Min P/CF Ratio"}),(0,i.jsx)(m.I,{id:"minPCF",type:"number",step:"0.1",value:A.minPCF,onChange:e=>V({...A,minPCF:Number(e.target.value)})})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"maxPCF",children:"Max P/CF Ratio"}),(0,i.jsx)(m.I,{id:"maxPCF",type:"number",step:"0.1",value:A.maxPCF,onChange:e=>V({...A,maxPCF:Number(e.target.value)})})]})]})]}),(0,i.jsxs)("div",{className:"space-y-3 border-t pt-4",children:[(0,i.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground uppercase",children:"Financial Health"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"minROE",children:"Min ROE (%)"}),(0,i.jsx)(m.I,{id:"minROE",type:"number",step:"0.1",value:A.minROE,onChange:e=>V({...A,minROE:Number(e.target.value)})})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"maxROE",children:"Max ROE (%)"}),(0,i.jsx)(m.I,{id:"maxROE",type:"number",step:"0.1",value:A.maxROE,onChange:e=>V({...A,maxROE:Number(e.target.value)})})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"minDebtToEquity",children:"Min Debt/Equity"}),(0,i.jsx)(m.I,{id:"minDebtToEquity",type:"number",step:"0.1",value:A.minDebtToEquity,onChange:e=>V({...A,minDebtToEquity:Number(e.target.value)})})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"maxDebtToEquity",children:"Max Debt/Equity"}),(0,i.jsx)(m.I,{id:"maxDebtToEquity",type:"number",step:"0.1",value:A.maxDebtToEquity,onChange:e=>V({...A,maxDebtToEquity:Number(e.target.value)})})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"minCurrentRatio",children:"Min Current Ratio"}),(0,i.jsx)(m.I,{id:"minCurrentRatio",type:"number",step:"0.1",value:A.minCurrentRatio,onChange:e=>V({...A,minCurrentRatio:Number(e.target.value)})})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"maxCurrentRatio",children:"Max Current Ratio"}),(0,i.jsx)(m.I,{id:"maxCurrentRatio",type:"number",step:"0.1",value:A.maxCurrentRatio,onChange:e=>V({...A,maxCurrentRatio:Number(e.target.value)})})]})]})]}),(0,i.jsxs)("div",{className:"space-y-3 border-t pt-4",children:[(0,i.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground uppercase",children:"Growth Metrics"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"minRevenueGrowth",children:"Min Revenue Growth (%)"}),(0,i.jsx)(m.I,{id:"minRevenueGrowth",type:"number",step:"0.1",value:A.minRevenueGrowth,onChange:e=>V({...A,minRevenueGrowth:Number(e.target.value)})})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"maxRevenueGrowth",children:"Max Revenue Growth (%)"}),(0,i.jsx)(m.I,{id:"maxRevenueGrowth",type:"number",step:"0.1",value:A.maxRevenueGrowth,onChange:e=>V({...A,maxRevenueGrowth:Number(e.target.value)})})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"minEarningsGrowth",children:"Min Earnings Growth (%)"}),(0,i.jsx)(m.I,{id:"minEarningsGrowth",type:"number",step:"0.1",value:A.minEarningsGrowth,onChange:e=>V({...A,minEarningsGrowth:Number(e.target.value)})})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"maxEarningsGrowth",children:"Max Earnings Growth (%)"}),(0,i.jsx)(m.I,{id:"maxEarningsGrowth",type:"number",step:"0.1",value:A.maxEarningsGrowth,onChange:e=>V({...A,maxEarningsGrowth:Number(e.target.value)})})]})]})]}),(0,i.jsxs)("div",{className:"space-y-3 border-t pt-4",children:[(0,i.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground uppercase",children:"Income Metrics"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"minDividendYield",children:"Min Dividend Yield (%)"}),(0,i.jsx)(m.I,{id:"minDividendYield",type:"number",step:"0.1",value:A.minDividendYield,onChange:e=>V({...A,minDividendYield:Number(e.target.value)})})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"maxDividendYield",children:"Max Dividend Yield (%)"}),(0,i.jsx)(m.I,{id:"maxDividendYield",type:"number",step:"0.1",value:A.maxDividendYield,onChange:e=>V({...A,maxDividendYield:Number(e.target.value)})})]})]})]})]}),(0,i.jsxs)("div",{className:"space-y-3 border-t pt-4",children:[(0,i.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground uppercase",children:"Market Metrics"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"minMarketCap",children:"Min Market Cap ($)"}),(0,i.jsx)(m.I,{id:"minMarketCap",type:"number",value:A.minMarketCap,onChange:e=>V({...A,minMarketCap:Number(e.target.value)})}),(0,i.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Current: ",L(A.minMarketCap)]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"maxMarketCap",children:"Max Market Cap ($)"}),(0,i.jsx)(m.I,{id:"maxMarketCap",type:"number",value:A.maxMarketCap,onChange:e=>V({...A,maxMarketCap:Number(e.target.value)})}),(0,i.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Current: ",L(A.maxMarketCap)]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"minVolume",children:"Min Volume"}),(0,i.jsx)(m.I,{id:"minVolume",type:"number",value:A.minVolume,onChange:e=>V({...A,minVolume:Number(e.target.value)})})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"maxVolume",children:"Max Volume"}),(0,i.jsx)(m.I,{id:"maxVolume",type:"number",value:A.maxVolume,onChange:e=>V({...A,maxVolume:Number(e.target.value)})})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"minMomentum",children:"Min Momentum (%)"}),(0,i.jsx)(m.I,{id:"minMomentum",type:"number",step:"0.1",value:A.minMomentum,onChange:e=>V({...A,minMomentum:Number(e.target.value)})}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"6-month price momentum"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(d._,{htmlFor:"maxMomentum",children:"Max Momentum (%)"}),(0,i.jsx)(m.I,{id:"maxMomentum",type:"number",step:"0.1",value:A.maxMomentum,onChange:e=>V({...A,maxMomentum:Number(e.target.value)})})]})]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[(0,i.jsx)(d._,{htmlFor:"isActive",className:"text-base",children:"Active for Trading"}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:"Enable this to use screen for actual trades"})]}),(0,i.jsx)(o.r,{id:"isActive",checked:A.isActive,onCheckedChange:e=>V({...A,isActive:e})})]})]}),(0,i.jsxs)(u.cN,{children:[(0,i.jsx)(l.z,{variant:"outline",onClick:()=>F(!1),children:"Cancel"}),(0,i.jsx)(l.z,{onClick:z,children:T?"Save Changes":"Create Screen"})]})]})})]})}},56948:function(e,a,s){"use strict";s.d(a,{X:function(){return d},bZ:function(){return m}});var i=s(15444),t=s(89300),n=s(2371),r=s(65522);let l=(0,n.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),m=t.forwardRef(({className:e,variant:a,...s},t)=>(0,i.jsx)("div",{ref:t,role:"alert",className:(0,r.cn)(l({variant:a}),e),...s}));m.displayName="Alert",t.forwardRef(({className:e,...a},s)=>(0,i.jsx)("h5",{ref:s,className:(0,r.cn)("mb-1 font-medium leading-none tracking-tight",e),...a})).displayName="AlertTitle";let d=t.forwardRef(({className:e,...a},s)=>(0,i.jsx)("div",{ref:s,className:(0,r.cn)("text-sm [&_p]:leading-relaxed",e),...a}));d.displayName="AlertDescription"},29530:function(e,a,s){"use strict";s.d(a,{$N:function(){return p},Be:function(){return g},Vq:function(){return m},cN:function(){return h},cZ:function(){return x},fK:function(){return u},hg:function(){return d}});var i=s(15444),t=s(89300),n=s(49095),r=s(33485),l=s(65522);let m=n.fC,d=n.xz,c=n.h_;n.x8;let o=t.forwardRef(({className:e,...a},s)=>(0,i.jsx)(n.aV,{ref:s,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));o.displayName=n.aV.displayName;let x=t.forwardRef(({className:e,children:a,...s},t)=>(0,i.jsxs)(c,{children:[(0,i.jsx)(o,{}),(0,i.jsxs)(n.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[a,(0,i.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,i.jsx)(r.Z,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));x.displayName=n.VY.displayName;let u=({className:e,...a})=>(0,i.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});u.displayName="DialogHeader";let h=({className:e,...a})=>(0,i.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});h.displayName="DialogFooter";let p=t.forwardRef(({className:e,...a},s)=>(0,i.jsx)(n.Dx,{ref:s,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));p.displayName=n.Dx.displayName;let g=t.forwardRef(({className:e,...a},s)=>(0,i.jsx)(n.dk,{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...a}));g.displayName=n.dk.displayName},74678:function(e,a,s){"use strict";s.d(a,{I:function(){return r}});var i=s(15444),t=s(89300),n=s(65522);let r=t.forwardRef(({className:e,type:a,...s},t)=>(0,i.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));r.displayName="Input"},34635:function(e,a,s){"use strict";s.d(a,{_:function(){return d}});var i=s(15444),t=s(89300),n=s(4100),r=s(2371),l=s(65522);let m=(0,r.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=t.forwardRef(({className:e,...a},s)=>(0,i.jsx)(n.f,{ref:s,className:(0,l.cn)(m(),e),...a}));d.displayName=n.f.displayName},25181:function(e,a,s){"use strict";s.d(a,{r:function(){return l}});var i=s(15444),t=s(89300),n=s(62312),r=s(65522);let l=t.forwardRef(({className:e,...a},s)=>(0,i.jsx)(n.fC,{className:(0,r.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...a,ref:s,children:(0,i.jsx)(n.bU,{className:(0,r.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));l.displayName=n.fC.displayName}},function(e){e.O(0,[2616,572,5007,5762,1401,8371,42,4405,2386,7156,1744],function(){return e(e.s=10261)}),_N_E=e.O()}]);