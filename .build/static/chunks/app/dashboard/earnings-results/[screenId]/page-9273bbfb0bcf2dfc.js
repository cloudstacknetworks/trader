(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[484],{5700:function(e,s,t){Promise.resolve().then(t.bind(t,40696)),Promise.resolve().then(t.bind(t,19169))},19169:function(e,s,t){"use strict";t.d(s,{default:function(){return j}});var l=t(15444),n=t(89300),r=t(79047),i=t(99827),a=t(2422),d=t(61335),c=t(66772),x=t(98155),m=t(75012),o=t(64670),h=t(48967),u=t(30500);function j({screenId:e}){let s=(0,r.useRouter)(),[t,j]=(0,n.useState)(null),[f,p]=(0,n.useState)(!0),[N,g]=(0,n.useState)(7),b=async()=>{try{p(!0);let s=new Date,t=new Date;t.setDate(s.getDate()-N);let l=await fetch(`/api/screens/${e}/earnings-results?from=${t.toISOString().split("T")[0]}&to=${s.toISOString().split("T")[0]}`);if(!l.ok)throw Error("Failed to fetch earnings results");let n=await l.json();j(n)}catch(e){console.error("Error fetching earnings results:",e)}finally{p(!1)}};if((0,n.useEffect)(()=>{b()},[e,N]),f)return(0,l.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"Loading earnings results..."})]})});if(!t)return(0,l.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,l.jsx)(i.Zb,{className:"w-full max-w-md",children:(0,l.jsx)(i.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)(c.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-lg font-medium mb-2",children:"No Data Available"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Unable to load earnings results for this screen."}),(0,l.jsxs)(a.z,{onClick:()=>s.back(),children:[(0,l.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Go Back"]})]})})})});let{screen:y,earningsResults:v,trades:k,summary:w}=t,Z=e=>null===e.actualEPS?(0,l.jsx)(d.C,{variant:"outline",children:"Pending"}):e.qualifiedBeat?(0,l.jsx)(d.C,{className:"bg-green-600 text-white hover:bg-green-700",children:"Qualified Beat"}):e.beat?(0,l.jsx)(d.C,{className:"bg-green-500 text-white hover:bg-green-600",children:"Beat"}):(0,l.jsx)(d.C,{variant:"destructive",children:"Miss"}),S=e=>null===e?"text-muted-foreground":e>=y.minEarningsSurprise?"text-green-600 font-semibold":e>0?"text-green-500":"text-red-600",E=e=>null===e?"N/A":`${e>=0?"+":""}${e.toFixed(2)}%`,C=e=>null===e?"N/A":`$${e.toFixed(2)}`,P=e=>k.some(s=>s.symbol===e);return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)(a.z,{variant:"ghost",onClick:()=>s.back(),className:"mb-2",children:[(0,l.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Back to Screens"]}),(0,l.jsx)("h1",{className:"text-3xl font-bold",children:y.name}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"Earnings Performance Report"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(a.z,{variant:7===N?"default":"outline",size:"sm",onClick:()=>g(7),children:"7 Days"}),(0,l.jsx)(a.z,{variant:30===N?"default":"outline",size:"sm",onClick:()=>g(30),children:"30 Days"}),(0,l.jsx)(a.z,{variant:90===N?"default":"outline",size:"sm",onClick:()=>g(90),children:"90 Days"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:[(0,l.jsxs)(i.Zb,{children:[(0,l.jsx)(i.Ol,{className:"pb-2",children:(0,l.jsx)(i.ll,{className:"text-sm font-medium text-muted-foreground",children:"Monitored"})}),(0,l.jsx)(i.aY,{children:(0,l.jsx)("div",{className:"text-2xl font-bold",children:w.totalMonitoredStocks})})]}),(0,l.jsxs)(i.Zb,{children:[(0,l.jsx)(i.Ol,{className:"pb-2",children:(0,l.jsx)(i.ll,{className:"text-sm font-medium text-muted-foreground",children:"Scheduled"})}),(0,l.jsx)(i.aY,{children:(0,l.jsx)("div",{className:"text-2xl font-bold",children:w.scheduledEarnings})})]}),(0,l.jsxs)(i.Zb,{children:[(0,l.jsx)(i.Ol,{className:"pb-2",children:(0,l.jsx)(i.ll,{className:"text-sm font-medium text-muted-foreground",children:"Reported"})}),(0,l.jsx)(i.aY,{children:(0,l.jsx)("div",{className:"text-2xl font-bold",children:w.reportedEarnings})})]}),(0,l.jsxs)(i.Zb,{children:[(0,l.jsx)(i.Ol,{className:"pb-2",children:(0,l.jsx)(i.ll,{className:"text-sm font-medium text-muted-foreground",children:"Pending"})}),(0,l.jsx)(i.aY,{children:(0,l.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:w.pending})})]}),(0,l.jsxs)(i.Zb,{children:[(0,l.jsx)(i.Ol,{className:"pb-2",children:(0,l.jsx)(i.ll,{className:"text-sm font-medium text-muted-foreground",children:"Beats"})}),(0,l.jsx)(i.aY,{children:(0,l.jsx)("div",{className:"text-2xl font-bold text-green-600",children:w.beats})})]}),(0,l.jsxs)(i.Zb,{children:[(0,l.jsx)(i.Ol,{className:"pb-2",children:(0,l.jsx)(i.ll,{className:"text-sm font-medium text-muted-foreground",children:"Qualified"})}),(0,l.jsxs)(i.aY,{children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-green-700",children:w.qualifiedBeats}),(0,l.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["≥",y.minEarningsSurprise,"%"]})]})]}),(0,l.jsxs)(i.Zb,{children:[(0,l.jsx)(i.Ol,{className:"pb-2",children:(0,l.jsx)(i.ll,{className:"text-sm font-medium text-muted-foreground",children:"Misses"})}),(0,l.jsx)(i.aY,{children:(0,l.jsx)("div",{className:"text-2xl font-bold text-red-600",children:w.misses})})]})]}),(0,l.jsxs)(i.Zb,{children:[(0,l.jsxs)(i.Ol,{children:[(0,l.jsx)(i.ll,{children:"Earnings Results"}),(0,l.jsxs)(i.SZ,{children:["Detailed earnings performance for stocks in this screen (last ",N," days)"]})]}),(0,l.jsx)(i.aY,{children:0===v.length?(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)(m.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-lg font-medium mb-2",children:"No Earnings Scheduled"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"None of the stocks in this screen had scheduled earnings in the selected period."})]}):(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"border-b",children:[(0,l.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Date"}),(0,l.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Ticker"}),(0,l.jsx)("th",{className:"text-right py-3 px-4 font-medium",children:"Est. EPS"}),(0,l.jsx)("th",{className:"text-right py-3 px-4 font-medium",children:"Actual EPS"}),(0,l.jsx)("th",{className:"text-right py-3 px-4 font-medium",children:"Surprise %"}),(0,l.jsx)("th",{className:"text-center py-3 px-4 font-medium",children:"Status"}),(0,l.jsx)("th",{className:"text-center py-3 px-4 font-medium",children:"Trade"})]})}),(0,l.jsx)("tbody",{children:v.map((e,s)=>(0,l.jsxs)("tr",{className:"border-b hover:bg-muted/50",children:[(0,l.jsx)("td",{className:"py-3 px-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(m.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,u.WU)(new Date(e.earningsDate),"MMM dd, yyyy")]})}),(0,l.jsx)("td",{className:"py-3 px-4",children:(0,l.jsx)("span",{className:"font-mono font-medium",children:e.symbol})}),(0,l.jsx)("td",{className:"py-3 px-4 text-right font-mono",children:C(e.estimatedEPS)}),(0,l.jsx)("td",{className:"py-3 px-4 text-right font-mono",children:C(e.actualEPS)}),(0,l.jsx)("td",{className:`py-3 px-4 text-right font-mono ${S(e.surprise)}`,children:(0,l.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[null!==e.surprise&&e.surprise>0&&(0,l.jsx)(o.Z,{className:"h-4 w-4"}),null!==e.surprise&&e.surprise<0&&(0,l.jsx)(h.Z,{className:"h-4 w-4"}),E(e.surprise)]})}),(0,l.jsx)("td",{className:"py-3 px-4 text-center",children:Z(e)}),(0,l.jsx)("td",{className:"py-3 px-4 text-center",children:P(e.symbol)?(0,l.jsx)(d.C,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-300",children:"✓ Executed"}):(0,l.jsx)("span",{className:"text-muted-foreground text-sm",children:"—"})})]},`${e.symbol}-${e.earningsDate}-${s}`))})]})})})]}),k.length>0&&(0,l.jsxs)(i.Zb,{children:[(0,l.jsxs)(i.Ol,{children:[(0,l.jsx)(i.ll,{children:"Executed Trades"}),(0,l.jsx)(i.SZ,{children:"Trades triggered by qualified earnings beats in this screen"})]}),(0,l.jsx)(i.aY,{children:(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"border-b",children:[(0,l.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Ticker"}),(0,l.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Side"}),(0,l.jsx)("th",{className:"text-right py-3 px-4 font-medium",children:"Quantity"}),(0,l.jsx)("th",{className:"text-right py-3 px-4 font-medium",children:"Entry Price"}),(0,l.jsx)("th",{className:"text-right py-3 px-4 font-medium",children:"Exit Price"}),(0,l.jsx)("th",{className:"text-right py-3 px-4 font-medium",children:"P&L"}),(0,l.jsx)("th",{className:"text-center py-3 px-4 font-medium",children:"Status"})]})}),(0,l.jsx)("tbody",{children:k.map(e=>(0,l.jsxs)("tr",{className:"border-b hover:bg-muted/50",children:[(0,l.jsx)("td",{className:"py-3 px-4",children:(0,l.jsx)("span",{className:"font-mono font-medium",children:e.symbol})}),(0,l.jsx)("td",{className:"py-3 px-4",children:(0,l.jsx)(d.C,{variant:"BUY"===e.side?"default":"outline",children:e.side})}),(0,l.jsx)("td",{className:"py-3 px-4 text-right font-mono",children:e.quantity}),(0,l.jsxs)("td",{className:"py-3 px-4 text-right font-mono",children:["$",e.entryPrice.toFixed(2)]}),(0,l.jsx)("td",{className:"py-3 px-4 text-right font-mono",children:e.exitPrice?`$${e.exitPrice.toFixed(2)}`:"—"}),(0,l.jsx)("td",{className:"py-3 px-4 text-right font-mono",children:null!==e.pnl?(0,l.jsxs)("span",{className:e.pnl>=0?"text-green-600":"text-red-600",children:[e.pnl>=0?"+":"",e.pnl.toFixed(2),"%"]}):"—"}),(0,l.jsx)("td",{className:"py-3 px-4 text-center",children:(0,l.jsx)(d.C,{variant:e.exitTime?"outline":"default",children:e.exitTime?"Closed":"Open"})})]},e.id))})]})})})]})]})}},98155:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});let l=(0,t(42154).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},66772:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});let l=(0,t(42154).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},48967:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});let l=(0,t(42154).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])}},function(e){e.O(0,[2616,572,5007,5762,1401,8371,4405,2386,7156,1744],function(){return e(e.s=5700)}),_N_E=e.O()}]);