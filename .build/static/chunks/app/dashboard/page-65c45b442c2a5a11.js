(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7702],{60619:function(e,s,t){Promise.resolve().then(t.bind(t,40696)),Promise.resolve().then(t.bind(t,95421))},95421:function(e,s,t){"use strict";t.d(s,{DashboardOverview:function(){return P}});var l=t(15444),a=t(89300),r=t(99827),i=t(61335),n=t(2422),c=t(66772),x=t(83648),d=t(64670),m=t(48967),o=t(26378),h=t(99983),u=t(66124),j=t(62492),f=t(48803),N=t(81909),p=t(58238),g=t(5468),y=t(96516),b=t(86354),v=t(59160);function w({currentValue:e,totalPnl:s}){let t=(0,a.useMemo)(()=>{let t=[],l=e-s;for(let e=0;e<=30;e++){let a=l+e/30*s+(Math.random()-.5)*50;t.push({date:new Date(Date.now()-(30-e)*864e5).toLocaleDateString(),value:Math.max(0,a),pnl:a-l})}return t},[e,s]);return(0,l.jsx)(f.h,{width:"100%",height:"100%",children:(0,l.jsxs)(N.w,{data:t,margin:{top:20,right:30,left:20,bottom:20},children:[(0,l.jsx)(p.q,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,l.jsx)(g.K,{dataKey:"date",tick:{fontSize:10},tickLine:!1,interval:"preserveStartEnd"}),(0,l.jsx)(y.B,{tick:{fontSize:10},tickLine:!1,label:{value:"Portfolio Value ($)",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fontSize:11}}}),(0,l.jsx)(b.u,{formatter:e=>[`$${e.toFixed(2)}`,"Portfolio Value"],labelFormatter:e=>`Date: ${e}`,contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"12px"}}),(0,l.jsx)(v.x,{type:"monotone",dataKey:"value",stroke:"#3b82f6",strokeWidth:2,dot:!1,activeDot:{r:4,fill:"#3b82f6"}})]})})}function Z({positions:e,compact:s=!1}){return e&&0!==e.length?(0,l.jsx)("div",{className:"space-y-2",children:e.map(e=>{let s=Number(e.unrealizedPnl||0),t=Number(e.currentPrice||e.entryPrice),a=Number(e.entryPrice),r=a>0?(t-a)/a*100:0;return(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"font-medium text-gray-900",children:e.ticker}),(0,l.jsxs)("span",{className:"text-sm text-gray-600",children:[e.quantity," shares"]})]}),(0,l.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Entry: $",a.toFixed(2)," â€¢ Current: $",t.toFixed(2)]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("div",{className:`font-medium text-sm ${s>=0?"text-green-600":"text-red-600"}`,children:[s>=0?"+":"","$",s.toFixed(2)]}),(0,l.jsxs)("div",{className:`text-xs ${r>=0?"text-green-600":"text-red-600"}`,children:[r>=0?"+":"",r.toFixed(2),"%"]})]})]},e.id)})}):(0,l.jsx)("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No positions available"})}function k({stocks:e}){return e&&0!==e.length?(0,l.jsx)("div",{className:"space-y-3",children:e.map(e=>{let s=Number(e.score||0),t=Number(e.currentPrice||0),a=Number(e.momentum||0),r=Number(e.sentimentScore||0);return(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"font-medium text-gray-900",children:e.ticker}),0!==a&&(0,l.jsxs)("div",{className:"flex items-center",children:[a>0?(0,l.jsx)(d.Z,{className:"h-3 w-3 text-green-600"}):(0,l.jsx)(m.Z,{className:"h-3 w-3 text-red-600"}),(0,l.jsxs)("span",{className:`text-xs ml-1 ${a>0?"text-green-600":"text-red-600"}`,children:[a>0?"+":"",a.toFixed(1),"%"]})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[t>0&&(0,l.jsxs)("span",{className:"text-sm text-gray-600",children:["$",t.toFixed(2)]}),e.screen?.name&&(0,l.jsx)(i.C,{variant:"outline",className:"text-xs",children:e.screen.name})]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("div",{className:"text-sm font-medium text-blue-600",children:["Score: ",s.toFixed(1)]}),0!==r&&(0,l.jsxs)("div",{className:`text-xs ${r>0?"text-green-600":"text-red-600"}`,children:["Sentiment: ",r>0?"+":"",r.toFixed(2)]})]})]},e.id)})}):(0,l.jsx)("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No watchlist items available"})}function P(){let[e,s]=(0,a.useState)(null),[t,f]=(0,a.useState)([]),[N,p]=(0,a.useState)([]),[g,y]=(0,a.useState)([]),[b,v]=(0,a.useState)(!0);if((0,a.useEffect)(()=>{let e=async()=>{try{let[e,t,l,a]=await Promise.all([fetch("/api/account"),fetch("/api/positions"),fetch("/api/watchlist?limit=5"),fetch("/api/trades?limit=5")]),r=await e.json(),i=await t.json(),n=await l.json(),c=await a.json();s(r),f(i),p(n?.slice?.(0,5)||[]),y(c?.trades?.slice?.(0,5)||[])}catch(e){console.error("Error fetching dashboard data:",e)}finally{v(!1)}};e();let t=setInterval(e,6e4);return()=>clearInterval(t)},[]),b)return(0,l.jsx)("div",{className:"space-y-6",children:(0,l.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(e=>(0,l.jsxs)(r.Zb,{className:"animate-pulse",children:[(0,l.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)("div",{className:"h-4 bg-gray-200 rounded w-20"}),(0,l.jsx)("div",{className:"h-4 w-4 bg-gray-200 rounded"})]}),(0,l.jsxs)(r.aY,{children:[(0,l.jsx)("div",{className:"h-8 bg-gray-200 rounded w-24 mb-1"}),(0,l.jsx)("div",{className:"h-3 bg-gray-200 rounded w-16"})]})]},e))})});let P=e?Number(e.totalPnl):0,S=e?Number(e.currentValue):1e3,$=e?Number(e.startingCapital):1e3,F=$>0?(S-$)/$*100:0,O=t?.length||0,z=g?.length||0,C=e?.isPaperTrading!==!1;return(0,l.jsxs)("div",{className:"space-y-6",children:[C&&(0,l.jsx)(r.Zb,{className:"border-blue-200 bg-blue-50",children:(0,l.jsx)(r.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(c.Z,{className:"h-5 w-5 text-blue-600"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"Paper Trading Mode Active"}),(0,l.jsx)("p",{className:"text-sm text-blue-700",children:"You're currently in paper trading mode. No real money is being used."})]}),(0,l.jsx)(n.z,{variant:"outline",size:"sm",className:"text-blue-700 border-blue-300",onClick:()=>window.location.href="/dashboard/settings?tab=account",children:"Switch to Live"})]})})}),(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,l.jsxs)(r.Zb,{children:[(0,l.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(r.ll,{className:"text-sm font-medium",children:"Portfolio Value"}),(0,l.jsx)(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,l.jsxs)(r.aY,{children:[(0,l.jsxs)("div",{className:"text-2xl font-bold",children:["$",S.toFixed(2)]}),(0,l.jsxs)("p",{className:"text-xs text-muted-foreground",children:[F>=0?"+":"",F.toFixed(2),"% from start"]})]})]}),(0,l.jsxs)(r.Zb,{children:[(0,l.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(r.ll,{className:"text-sm font-medium",children:"Total P&L"}),P>=0?(0,l.jsx)(d.Z,{className:"h-4 w-4 text-green-600"}):(0,l.jsx)(m.Z,{className:"h-4 w-4 text-red-600"})]}),(0,l.jsxs)(r.aY,{children:[(0,l.jsxs)("div",{className:`text-2xl font-bold ${P>=0?"text-green-600":"text-red-600"}`,children:["$",P.toFixed(2)]}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"Realized + unrealized gains"})]})]}),(0,l.jsxs)(r.Zb,{children:[(0,l.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(r.ll,{className:"text-sm font-medium",children:"Open Positions"}),(0,l.jsx)(o.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,l.jsxs)(r.aY,{children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:O}),(0,l.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Max ",e?.maxPositions||5," concurrent"]})]})]}),(0,l.jsxs)(r.Zb,{children:[(0,l.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(r.ll,{className:"text-sm font-medium",children:"Recent Trades"}),(0,l.jsx)(h.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,l.jsxs)(r.aY,{children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:z}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"Last 5 completed trades"})]})]})]}),(0,l.jsxs)(r.Zb,{children:[(0,l.jsxs)(r.Ol,{children:[(0,l.jsx)(r.ll,{children:"Portfolio Performance"}),(0,l.jsx)(r.SZ,{children:"Your portfolio value over time"})]}),(0,l.jsx)(r.aY,{children:(0,l.jsx)("div",{className:"h-64",children:(0,l.jsx)(w,{currentValue:S,totalPnl:P})})})]}),(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,l.jsxs)(r.Zb,{children:[(0,l.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between",children:[(0,l.jsx)(r.ll,{className:"text-lg",children:"Open Positions"}),O>0&&(0,l.jsxs)(i.C,{variant:"secondary",className:"bg-green-100 text-green-800",children:[(0,l.jsx)(u.Z,{className:"h-3 w-3 mr-1"}),"Active"]})]}),(0,l.jsx)(r.aY,{children:O>0?(0,l.jsx)(Z,{positions:t?.slice?.(0,5)||[],compact:!0}):(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[(0,l.jsx)(o.Z,{className:"h-12 w-12 text-gray-400 mb-4"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"No open positions"}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Positions will appear here when trades are executed"})]})})]}),(0,l.jsxs)(r.Zb,{children:[(0,l.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between",children:[(0,l.jsx)(r.ll,{className:"text-lg",children:"Top Watchlist"}),(0,l.jsxs)(i.C,{variant:"outline",className:"text-blue-600",children:[(0,l.jsx)(j.Z,{className:"h-3 w-3 mr-1"}),"Live"]})]}),(0,l.jsx)(r.aY,{children:N?.length>0?(0,l.jsx)(k,{stocks:N}):(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[(0,l.jsx)(h.Z,{className:"h-12 w-12 text-gray-400 mb-4"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"No watchlist items"}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Stocks will appear here after screening"})]})})]})]}),(0,l.jsxs)(r.Zb,{children:[(0,l.jsxs)(r.Ol,{children:[(0,l.jsx)(r.ll,{children:"Recent Trading Activity"}),(0,l.jsx)(r.SZ,{children:"Your most recent completed trades"})]}),(0,l.jsx)(r.aY,{children:g?.length>0?(0,l.jsx)("div",{className:"space-y-4",children:g.map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("div",{className:`w-2 h-2 rounded-full ${(e.realizedPnl||0)>=0?"bg-green-500":"bg-red-500"}`}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:e.ticker}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:[e.quantity," shares @ $",Number(e.entryPrice).toFixed(2)]})]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:`font-medium ${(e.realizedPnl||0)>=0?"text-green-600":"text-red-600"}`,children:["$",Number(e.realizedPnl||0).toFixed(2)]}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:e.exitTime?new Date(e.exitTime).toLocaleDateString():"Open"})]})]},e.id))}):(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[(0,l.jsx)(h.Z,{className:"h-12 w-12 text-gray-400 mb-4"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"No recent trades"}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Trading activity will appear here"})]})})]})]})}},99983:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});let l=(0,t(42154).Z)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},66772:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});let l=(0,t(42154).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},66124:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});let l=(0,t(42154).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},62492:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});let l=(0,t(42154).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])}},function(e){e.O(0,[2616,572,5007,5762,1401,8371,9421,4405,2386,7156,1744],function(){return e(e.s=60619)}),_N_E=e.O()}]);