(()=>{var e={};e.id=6652,e.ids=[6652],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},59260:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>o,pages:()=>d,routeModule:()=>x,tree:()=>m}),a(55413),a(38723),a(71363);var t=a(36576),i=a(72007),r=a(21818),n=a.n(r),l=a(88897),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);a.d(s,c);let m=["",{children:["dashboard",{children:["screens",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,55413)),"/home/ubuntu/oshaughnessy_trader/nextjs_space/app/dashboard/screens/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,38723)),"/home/ubuntu/oshaughnessy_trader/nextjs_space/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,71363,23)),"next/dist/client/components/not-found-error"]}],d=["/home/ubuntu/oshaughnessy_trader/nextjs_space/app/dashboard/screens/page.tsx"],o="/dashboard/screens/page",u={require:a,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/dashboard/screens/page",pathname:"/dashboard/screens",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:m}})},88384:(e,s,a)=>{Promise.resolve().then(a.bind(a,64548)),Promise.resolve().then(a.bind(a,16589))},16589:(e,s,a)=>{"use strict";a.d(s,{default:()=>E});var t=a(62901),i=a(24383),r=a(84374),n=a(23803),l=a(27878),c=a(250),m=a(82657),d=a(31606),o=a(1975),u=a(80568),x=a(76556),h=a(97718),p=a(35825),g=a(558),v=a(30808),j=a(10780),y=a(33901);let b=(0,a(71945).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var N=a(82333),f=a(71028),C=a(61659);function E(){let e=(0,r.useRouter)(),[s,a]=(0,i.useState)([]),[E,w]=(0,i.useState)(!0),[P,S]=(0,i.useState)(""),[M,k]=(0,i.useState)(""),[R,F]=(0,i.useState)(!1),[T,G]=(0,i.useState)(null),[_,D]=(0,i.useState)(null),[O,q]=(0,i.useState)(null),[A,I]=(0,i.useState)({name:"",description:"",screenType:"OSHAUGHNESSY",isActive:!1,minPE:0,maxPE:999,minPS:0,maxPS:999,minPB:0,maxPB:999,minPCF:0,maxPCF:999,minROE:-999,maxROE:999,minDebtToEquity:0,maxDebtToEquity:999,minCurrentRatio:0,maxCurrentRatio:999,minRevenueGrowth:-999,maxRevenueGrowth:999,minEarningsGrowth:-999,maxEarningsGrowth:999,minDividendYield:0,maxDividendYield:999,minMarketCap:0,maxMarketCap:999999999999,minVolume:0,maxVolume:999999999999,minMomentum:-999,maxMomentum:999,minEarningsSurprise:5,allocatedCapital:0,maxPositions:10}),Z=async()=>{try{w(!0),S("");let e=await fetch("/api/screens");if(!e.ok)throw Error("Failed to fetch screens");let s=await e.json(),t=await fetch("/api/watchlist");if(!t.ok)throw Error("Failed to fetch watchlist");let i=await t.json(),r={};i.forEach(e=>{r[e.screenId]=(r[e.screenId]||0)+1});let n=s.map(e=>({...e,_count:{watchlistItems:r[e.id]||0}}));a(n)}catch(e){S(e.message||"Failed to load screens")}finally{w(!1)}},V=()=>{G(null),I({name:"",description:"",screenType:"OSHAUGHNESSY",isActive:!1,minPE:0,maxPE:999,minPS:0,maxPS:999,minPB:0,maxPB:999,minPCF:0,maxPCF:999,minROE:-999,maxROE:999,minDebtToEquity:0,maxDebtToEquity:999,minCurrentRatio:0,maxCurrentRatio:999,minRevenueGrowth:-999,maxRevenueGrowth:999,minEarningsGrowth:-999,maxEarningsGrowth:999,minDividendYield:0,maxDividendYield:999,minMarketCap:0,maxMarketCap:999999999999,minVolume:0,maxVolume:999999999999,minMomentum:-999,maxMomentum:999,minEarningsSurprise:5,allocatedCapital:0,maxPositions:10}),F(!0)},Y=e=>{G(e),I({name:e.name,description:e.description||"",screenType:e.screenType||"OSHAUGHNESSY",isActive:e.isActive,minPE:e.minPE||0,maxPE:e.maxPE||999,minPS:e.minPS||0,maxPS:e.maxPS||999,minPB:e.minPB||0,maxPB:e.maxPB||999,minPCF:e.minPCF||0,maxPCF:e.maxPCF||999,minROE:e.minROE||-999,maxROE:e.maxROE||999,minDebtToEquity:e.minDebtToEquity||0,maxDebtToEquity:e.maxDebtToEquity||999,minCurrentRatio:e.minCurrentRatio||0,maxCurrentRatio:e.maxCurrentRatio||999,minRevenueGrowth:e.minRevenueGrowth||-999,maxRevenueGrowth:e.maxRevenueGrowth||999,minEarningsGrowth:e.minEarningsGrowth||-999,maxEarningsGrowth:e.maxEarningsGrowth||999,minDividendYield:e.minDividendYield||0,maxDividendYield:e.maxDividendYield||999,minMarketCap:e.minMarketCap||0,maxMarketCap:e.maxMarketCap||999999999999,minVolume:e.minVolume||0,maxVolume:e.maxVolume||999999999999,minMomentum:e.minMomentum||-999,maxMomentum:e.maxMomentum||999,minEarningsSurprise:e.minEarningsSurprise||5,allocatedCapital:e.allocatedCapital||0,maxPositions:e.maxPositions||10}),F(!0)},B=e=>{G(null),I({name:`${e.name} (Copy)`,description:e.description||"",screenType:e.screenType||"OSHAUGHNESSY",isActive:!1,minPE:e.minPE||0,maxPE:e.maxPE||999,minPS:e.minPS||0,maxPS:e.maxPS||999,minPB:e.minPB||0,maxPB:e.maxPB||999,minPCF:e.minPCF||0,maxPCF:e.maxPCF||999,minROE:e.minROE||-999,maxROE:e.maxROE||999,minDebtToEquity:e.minDebtToEquity||0,maxDebtToEquity:e.maxDebtToEquity||999,minCurrentRatio:e.minCurrentRatio||0,maxCurrentRatio:e.maxCurrentRatio||999,minRevenueGrowth:e.minRevenueGrowth||-999,maxRevenueGrowth:e.maxRevenueGrowth||999,minEarningsGrowth:e.minEarningsGrowth||-999,maxEarningsGrowth:e.maxEarningsGrowth||999,minDividendYield:e.minDividendYield||0,maxDividendYield:e.maxDividendYield||999,minMarketCap:e.minMarketCap||0,maxMarketCap:e.maxMarketCap||999999999999,minVolume:e.minVolume||0,maxVolume:e.maxVolume||999999999999,minMomentum:e.minMomentum||-999,maxMomentum:e.maxMomentum||999,minEarningsSurprise:e.minEarningsSurprise||5,allocatedCapital:e.allocatedCapital||0,maxPositions:e.maxPositions||10}),F(!0)},z=async()=>{try{if(S(""),k(""),!A.name.trim()){S("Screen name is required");return}let e=T?`/api/screens/${T.id}`:"/api/screens",s=await fetch(e,{method:T?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to save screen")}k(T?"Screen updated successfully":"Screen created successfully"),F(!1),Z()}catch(e){S(e.message||"Failed to save screen")}},$=async e=>{try{S(""),k("");let s=await fetch(`/api/screens/${e}`,{method:"DELETE"});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to delete screen")}k("Screen deleted successfully"),D(null),Z()}catch(e){S(e.message||"Failed to delete screen")}},H=async e=>{try{S("");let s=await fetch(`/api/screens/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!e.isActive})});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to update screen")}k(`Screen ${e.isActive?"deactivated":"activated"} successfully`),Z()}catch(e){S(e.message||"Failed to update screen")}},L=async(e,s)=>{try{S(""),k(""),q(e);let a=await fetch("/api/trading/run-screening",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({screenId:e})}),t=await a.json();if(!a.ok)throw Error(t.error||"Failed to refresh screen");k(`Screen "${s}" refreshed! Found ${t.stocksFound||0} matching stocks.`),Z()}catch(e){S(e.message||"Failed to refresh screen")}finally{q(null)}},U=e=>e>=1e9?`$${(e/1e9).toFixed(1)}B`:e>=1e6?`$${(e/1e6).toFixed(0)}M`:`$${e.toLocaleString()}`;return E?t.jsx("div",{className:"p-6",children:t.jsx(n.Zb,{children:t.jsx(n.aY,{className:"p-6",children:t.jsx("p",{className:"text-muted-foreground",children:"Loading screens..."})})})}):(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Screen Management"}),t.jsx("p",{className:"text-muted-foreground mt-1",children:"Create, test, and activate O'Shaughnessy screening strategies"})]}),(0,t.jsxs)(l.z,{onClick:V,className:"gap-2",children:[t.jsx(h.Z,{className:"h-4 w-4"}),"Create New Screen"]})]}),P&&(0,t.jsxs)(u.bZ,{variant:"destructive",children:[t.jsx(p.Z,{className:"h-4 w-4"}),t.jsx(u.X,{children:P})]}),M&&(0,t.jsxs)(u.bZ,{className:"border-green-500 bg-green-50 dark:bg-green-950",children:[t.jsx(g.Z,{className:"h-4 w-4 text-green-600"}),t.jsx(u.X,{className:"text-green-600",children:M})]}),(0,t.jsxs)(u.bZ,{children:[t.jsx(p.Z,{className:"h-4 w-4"}),(0,t.jsxs)(u.X,{children:[t.jsx("strong",{children:"Testing vs Trading:"}),' Create and test new screens with "Active for Trading" OFF. Only activate screens after verifying they yield good results. Active screens will be used for real trades.']})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(n.ll,{className:"text-sm font-medium",children:"Total Screens"}),t.jsx(v.Z,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(n.aY,{children:t.jsx("div",{className:"text-2xl font-bold",children:s.length})})]}),(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(n.ll,{className:"text-sm font-medium",children:"Active for Trading"}),t.jsx(g.Z,{className:"h-4 w-4 text-green-600"})]}),t.jsx(n.aY,{children:t.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.filter(e=>e.isActive).length})})]}),(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(n.ll,{className:"text-sm font-medium",children:"Total Stocks"}),t.jsx(v.Z,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsx(n.aY,{children:t.jsx("div",{className:"text-2xl font-bold",children:s.reduce((e,s)=>e+(s._count?.watchlistItems||0),0)})})]})]}),(0,t.jsxs)("div",{className:"grid gap-4",children:[s.map(s=>(0,t.jsxs)(n.Zb,{className:s.isActive?"border-green-500":"",children:[t.jsx(n.Ol,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1 flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx(n.ll,{children:s.name}),t.jsx(d.C,{variant:"EARNINGS"===s.screenType?"default":"outline",className:"EARNINGS"===s.screenType?"bg-purple-600":"",children:"EARNINGS"===s.screenType?"âš¡ Earnings":"\uD83D\uDCCA O'Shaughnessy"}),s.isActive?t.jsx(d.C,{className:"bg-green-600",children:"Active for Trading"}):t.jsx(d.C,{variant:"outline",children:"Testing Only"}),(0,t.jsxs)(d.C,{variant:"secondary",children:[s._count?.watchlistItems||0," stocks"]}),s.allocatedCapital&&s.allocatedCapital>0&&(0,t.jsxs)(d.C,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-300",children:["$",(s.currentCapital||s.allocatedCapital).toLocaleString()," / $",s.allocatedCapital.toLocaleString()]})]}),t.jsx(n.SZ,{children:s.description})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>L(s.id,s.name),disabled:O===s.id,className:"gap-2",children:[t.jsx(j.Z,{className:`h-4 w-4 ${O===s.id?"animate-spin":""}`}),O===s.id?"Refreshing...":"Refresh"]}),"EARNINGS"===s.screenType&&(0,t.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>e.push(`/dashboard/earnings-results/${s.id}`),className:"gap-2",children:[t.jsx(y.Z,{className:"h-4 w-4"}),"View Results"]}),(0,t.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>Y(s),className:"gap-2",children:[t.jsx(b,{className:"h-4 w-4"}),"Edit"]}),(0,t.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>B(s),className:"gap-2",children:[t.jsx(N.Z,{className:"h-4 w-4"}),"Clone"]}),_===s.id?(0,t.jsxs)("div",{className:"flex gap-1",children:[t.jsx(l.z,{variant:"destructive",size:"sm",onClick:()=>$(s.id),children:"Confirm"}),t.jsx(l.z,{variant:"outline",size:"sm",onClick:()=>D(null),children:"Cancel"})]}):(0,t.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>D(s.id),className:"gap-2 text-red-600 hover:text-red-700",children:[t.jsx(f.Z,{className:"h-4 w-4"}),"Delete"]})]})]})}),(0,t.jsxs)(n.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[t.jsx(m._,{className:"text-base font-semibold",children:s.isActive?"Active for Trading":"Testing Mode"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:s.isActive?"This screen is being used for live trading decisions":"Enable this to use screen for actual trades"})]}),t.jsx(o.r,{checked:s.isActive,onCheckedChange:()=>H(s)})]}),"EARNINGS"===s.screenType?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)(u.bZ,{children:[t.jsx(p.Z,{className:"h-4 w-4"}),(0,t.jsxs)(u.X,{children:[t.jsx("strong",{children:"Earnings Strategy:"})," Trades stocks that beat earnings by ",s.minEarningsSurprise||5,"%+ on their reporting date.",s.minMarketCap&&s.minMarketCap>0||s.maxMarketCap&&s.maxMarketCap<999999999999?" Filtered by market cap.":" No market cap filter."]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Min Earnings Surprise"}),(0,t.jsxs)("p",{className:"font-medium text-purple-600",children:[s.minEarningsSurprise||5,"%"]})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Market Cap Range"}),(0,t.jsxs)("p",{className:"font-medium",children:[U(s.minMarketCap||0)," - ",U(s.maxMarketCap||999999999999)]})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Min Volume"}),t.jsx("p",{className:"font-medium",children:(s.minVolume||0).toLocaleString()})]})]})]}):(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Market Cap"}),(0,t.jsxs)("p",{className:"font-medium",children:[U(s.minMarketCap||0)," - ",U(s.maxMarketCap||999999999999)]})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"P/E Ratio"}),(0,t.jsxs)("p",{className:"font-medium",children:[s.minPE||0," - ",s.maxPE||999]})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"P/S Ratio"}),(0,t.jsxs)("p",{className:"font-medium",children:[s.minPS||0," - ",s.maxPS||999]})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Momentum"}),(0,t.jsxs)("p",{className:"font-medium",children:[s.minMomentum||0,"% - ",s.maxMomentum||999,"%"]})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Volume"}),(0,t.jsxs)("p",{className:"font-medium",children:[(s.minVolume||0).toLocaleString()," - ",(s.maxVolume||999999999999).toLocaleString()]})]})]})]})]},s.id)),0===s.length&&t.jsx(n.Zb,{children:(0,t.jsxs)(n.aY,{className:"p-12 text-center",children:[t.jsx(C.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),t.jsx("p",{className:"text-lg font-medium mb-2",children:"No screens yet"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first O'Shaughnessy screening strategy to get started"}),(0,t.jsxs)(l.z,{onClick:V,className:"gap-2",children:[t.jsx(h.Z,{className:"h-4 w-4"}),"Create Screen"]})]})})]}),t.jsx(x.Vq,{open:R,onOpenChange:F,children:(0,t.jsxs)(x.cZ,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(x.fK,{children:[t.jsx(x.$N,{children:T?"Edit Screen":"Create New Screen"}),t.jsx(x.Be,{children:T?"Modify the screening criteria below":"Define your O'Shaughnessy screening criteria"})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"name",children:"Screen Name *"}),t.jsx(c.I,{id:"name",value:A.name,onChange:e=>I({...A,name:e.target.value}),placeholder:"e.g., Small Cap Value"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"description",children:"Description"}),t.jsx(c.I,{id:"description",value:A.description,onChange:e=>I({...A,description:e.target.value}),placeholder:"Brief description of the screening strategy"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"screenType",children:"Screen Type *"}),(0,t.jsxs)("select",{id:"screenType",value:A.screenType,onChange:e=>I({...A,screenType:e.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[t.jsx("option",{value:"OSHAUGHNESSY",children:"O'Shaughnessy (Value/Growth Screening)"}),t.jsx("option",{value:"EARNINGS",children:"Earnings Beats (Day Trading)"})]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"OSHAUGHNESSY"===A.screenType?"Traditional screening using financial ratios, then trading on positive news":"Day trading stocks that beat earnings expectations (no pre-screening required)"})]}),"EARNINGS"===A.screenType&&(0,t.jsxs)("div",{className:"space-y-3 border-t pt-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase",children:"Earnings Strategy Settings"}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"minEarningsSurprise",children:"Minimum Earnings Surprise %"}),t.jsx(c.I,{id:"minEarningsSurprise",type:"number",step:"0.1",value:A.minEarningsSurprise,onChange:e=>I({...A,minEarningsSurprise:Number(e.target.value)})}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Only trade stocks that beat estimates by this % or more (e.g., 5.0 = beat by 5%+)"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"allocatedCapital",children:"Allocated Capital (Paper Money) $"}),t.jsx(c.I,{id:"allocatedCapital",type:"number",step:"100",min:"0",value:A.allocatedCapital,onChange:e=>I({...A,allocatedCapital:Number(e.target.value)}),placeholder:"e.g., 1000"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Amount of paper (fake) money allocated to this strategy. New trades will divide remaining capital equally."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"maxPositions",children:"Max Positions Per Day"}),t.jsx(c.I,{id:"maxPositions",type:"number",step:"1",min:"5",max:"15",value:A.maxPositions,onChange:e=>I({...A,maxPositions:Math.max(5,Math.min(15,Number(e.target.value)))}),placeholder:"10"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum number of stocks to trade per day (5-15 range). Best opportunities are prioritized by earnings surprise %."})]}),(0,t.jsxs)(u.bZ,{children:[t.jsx(p.Z,{className:"h-4 w-4"}),(0,t.jsxs)(u.X,{children:[t.jsx("strong",{children:"Market Cap & Volume filters below"})," can be used to restrict which earnings beats to trade. All other O'Shaughnessy criteria (P/E, ROE, etc.) are ignored for earnings screens."]})]})]}),"OSHAUGHNESSY"===A.screenType&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-3 border-t pt-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase",children:"Valuation Metrics"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"minPE",children:"Min P/E Ratio"}),t.jsx(c.I,{id:"minPE",type:"number",step:"0.1",value:A.minPE,onChange:e=>I({...A,minPE:Number(e.target.value)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"maxPE",children:"Max P/E Ratio"}),t.jsx(c.I,{id:"maxPE",type:"number",step:"0.1",value:A.maxPE,onChange:e=>I({...A,maxPE:Number(e.target.value)})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"minPS",children:"Min P/S Ratio"}),t.jsx(c.I,{id:"minPS",type:"number",step:"0.1",value:A.minPS,onChange:e=>I({...A,minPS:Number(e.target.value)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"maxPS",children:"Max P/S Ratio"}),t.jsx(c.I,{id:"maxPS",type:"number",step:"0.1",value:A.maxPS,onChange:e=>I({...A,maxPS:Number(e.target.value)})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"minPB",children:"Min P/B Ratio"}),t.jsx(c.I,{id:"minPB",type:"number",step:"0.1",value:A.minPB,onChange:e=>I({...A,minPB:Number(e.target.value)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"maxPB",children:"Max P/B Ratio"}),t.jsx(c.I,{id:"maxPB",type:"number",step:"0.1",value:A.maxPB,onChange:e=>I({...A,maxPB:Number(e.target.value)})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"minPCF",children:"Min P/CF Ratio"}),t.jsx(c.I,{id:"minPCF",type:"number",step:"0.1",value:A.minPCF,onChange:e=>I({...A,minPCF:Number(e.target.value)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"maxPCF",children:"Max P/CF Ratio"}),t.jsx(c.I,{id:"maxPCF",type:"number",step:"0.1",value:A.maxPCF,onChange:e=>I({...A,maxPCF:Number(e.target.value)})})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3 border-t pt-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase",children:"Financial Health"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"minROE",children:"Min ROE (%)"}),t.jsx(c.I,{id:"minROE",type:"number",step:"0.1",value:A.minROE,onChange:e=>I({...A,minROE:Number(e.target.value)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"maxROE",children:"Max ROE (%)"}),t.jsx(c.I,{id:"maxROE",type:"number",step:"0.1",value:A.maxROE,onChange:e=>I({...A,maxROE:Number(e.target.value)})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"minDebtToEquity",children:"Min Debt/Equity"}),t.jsx(c.I,{id:"minDebtToEquity",type:"number",step:"0.1",value:A.minDebtToEquity,onChange:e=>I({...A,minDebtToEquity:Number(e.target.value)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"maxDebtToEquity",children:"Max Debt/Equity"}),t.jsx(c.I,{id:"maxDebtToEquity",type:"number",step:"0.1",value:A.maxDebtToEquity,onChange:e=>I({...A,maxDebtToEquity:Number(e.target.value)})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"minCurrentRatio",children:"Min Current Ratio"}),t.jsx(c.I,{id:"minCurrentRatio",type:"number",step:"0.1",value:A.minCurrentRatio,onChange:e=>I({...A,minCurrentRatio:Number(e.target.value)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"maxCurrentRatio",children:"Max Current Ratio"}),t.jsx(c.I,{id:"maxCurrentRatio",type:"number",step:"0.1",value:A.maxCurrentRatio,onChange:e=>I({...A,maxCurrentRatio:Number(e.target.value)})})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3 border-t pt-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase",children:"Growth Metrics"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"minRevenueGrowth",children:"Min Revenue Growth (%)"}),t.jsx(c.I,{id:"minRevenueGrowth",type:"number",step:"0.1",value:A.minRevenueGrowth,onChange:e=>I({...A,minRevenueGrowth:Number(e.target.value)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"maxRevenueGrowth",children:"Max Revenue Growth (%)"}),t.jsx(c.I,{id:"maxRevenueGrowth",type:"number",step:"0.1",value:A.maxRevenueGrowth,onChange:e=>I({...A,maxRevenueGrowth:Number(e.target.value)})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"minEarningsGrowth",children:"Min Earnings Growth (%)"}),t.jsx(c.I,{id:"minEarningsGrowth",type:"number",step:"0.1",value:A.minEarningsGrowth,onChange:e=>I({...A,minEarningsGrowth:Number(e.target.value)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"maxEarningsGrowth",children:"Max Earnings Growth (%)"}),t.jsx(c.I,{id:"maxEarningsGrowth",type:"number",step:"0.1",value:A.maxEarningsGrowth,onChange:e=>I({...A,maxEarningsGrowth:Number(e.target.value)})})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3 border-t pt-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase",children:"Income Metrics"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"minDividendYield",children:"Min Dividend Yield (%)"}),t.jsx(c.I,{id:"minDividendYield",type:"number",step:"0.1",value:A.minDividendYield,onChange:e=>I({...A,minDividendYield:Number(e.target.value)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"maxDividendYield",children:"Max Dividend Yield (%)"}),t.jsx(c.I,{id:"maxDividendYield",type:"number",step:"0.1",value:A.maxDividendYield,onChange:e=>I({...A,maxDividendYield:Number(e.target.value)})})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3 border-t pt-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase",children:"Market Metrics"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"minMarketCap",children:"Min Market Cap ($)"}),t.jsx(c.I,{id:"minMarketCap",type:"number",value:A.minMarketCap,onChange:e=>I({...A,minMarketCap:Number(e.target.value)})}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Current: ",U(A.minMarketCap)]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"maxMarketCap",children:"Max Market Cap ($)"}),t.jsx(c.I,{id:"maxMarketCap",type:"number",value:A.maxMarketCap,onChange:e=>I({...A,maxMarketCap:Number(e.target.value)})}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Current: ",U(A.maxMarketCap)]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"minVolume",children:"Min Volume"}),t.jsx(c.I,{id:"minVolume",type:"number",value:A.minVolume,onChange:e=>I({...A,minVolume:Number(e.target.value)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"maxVolume",children:"Max Volume"}),t.jsx(c.I,{id:"maxVolume",type:"number",value:A.maxVolume,onChange:e=>I({...A,maxVolume:Number(e.target.value)})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"minMomentum",children:"Min Momentum (%)"}),t.jsx(c.I,{id:"minMomentum",type:"number",step:"0.1",value:A.minMomentum,onChange:e=>I({...A,minMomentum:Number(e.target.value)})}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"6-month price momentum"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"maxMomentum",children:"Max Momentum (%)"}),t.jsx(c.I,{id:"maxMomentum",type:"number",step:"0.1",value:A.maxMomentum,onChange:e=>I({...A,maxMomentum:Number(e.target.value)})})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[t.jsx(m._,{htmlFor:"isActive",className:"text-base",children:"Active for Trading"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable this to use screen for actual trades"})]}),t.jsx(o.r,{id:"isActive",checked:A.isActive,onCheckedChange:e=>I({...A,isActive:e})})]})]}),(0,t.jsxs)(x.cN,{children:[t.jsx(l.z,{variant:"outline",onClick:()=>F(!1),children:"Cancel"}),t.jsx(l.z,{onClick:z,children:T?"Save Changes":"Create Screen"})]})]})})]})}},82657:(e,s,a)=>{"use strict";a.d(s,{_:()=>m});var t=a(62901),i=a(24383),r=a(8388),n=a(47279),l=a(68637);let c=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),m=i.forwardRef(({className:e,...s},a)=>t.jsx(r.f,{ref:a,className:(0,l.cn)(c(),e),...s}));m.displayName=r.f.displayName},1975:(e,s,a)=>{"use strict";a.d(s,{r:()=>C});var t=a(62901),i=a(24383),r=a(1940),n=a(56163),l=a(89291),c=a(98106),m=a(45666),d=a(49209),o=a(74132),u="Switch",[x,h]=(0,l.b)(u),[p,g]=x(u),v=i.forwardRef((e,s)=>{let{__scopeSwitch:a,name:l,checked:m,defaultChecked:d,required:u,disabled:x,value:h="on",onCheckedChange:g,...v}=e,[j,y]=i.useState(null),f=(0,n.e)(s,e=>y(e)),C=i.useRef(!1),E=!j||!!j.closest("form"),[w=!1,P]=(0,c.T)({prop:m,defaultProp:d,onChange:g});return(0,t.jsxs)(p,{scope:a,checked:w,disabled:x,children:[(0,t.jsx)(o.WV.button,{type:"button",role:"switch","aria-checked":w,"aria-required":u,"data-state":N(w),"data-disabled":x?"":void 0,disabled:x,value:h,...v,ref:f,onClick:(0,r.M)(e.onClick,e=>{P(e=>!e),E&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),E&&(0,t.jsx)(b,{control:j,bubbles:!C.current,name:l,value:h,checked:w,required:u,disabled:x,style:{transform:"translateX(-100%)"}})]})});v.displayName=u;var j="SwitchThumb",y=i.forwardRef((e,s)=>{let{__scopeSwitch:a,...i}=e,r=g(j,a);return(0,t.jsx)(o.WV.span,{"data-state":N(r.checked),"data-disabled":r.disabled?"":void 0,...i,ref:s})});y.displayName=j;var b=e=>{let{control:s,checked:a,bubbles:r=!0,...n}=e,l=i.useRef(null),c=(0,m.D)(a),o=(0,d.t)(s);return i.useEffect(()=>{let e=l.current,s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==a&&s){let t=new Event("click",{bubbles:r});s.call(e,a),e.dispatchEvent(t)}},[c,a,r]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...n,tabIndex:-1,ref:l,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function N(e){return e?"checked":"unchecked"}var f=a(68637);let C=i.forwardRef(({className:e,...s},a)=>t.jsx(v,{className:(0,f.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:a,children:t.jsx(y,{className:(0,f.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));C.displayName=v.displayName},35825:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},558:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},61659:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},97718:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},10780:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},71028:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(71945).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},55413:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var t=a(83537),i=a(57978),r=a(15438),n=a(11826),l=a(96184);let c=(0,a(88895).createProxy)(String.raw`/home/ubuntu/oshaughnessy_trader/nextjs_space/components/screens-view.tsx#default`);async function m(){return await (0,i.getServerSession)(n.L)||(0,r.redirect)("/auth/signin"),t.jsx(l.c,{children:t.jsx(c,{})})}},8388:(e,s,a)=>{"use strict";a.d(s,{f:()=>l});var t=a(24383),i=a(74132),r=a(62901),n=t.forwardRef((e,s)=>(0,r.jsx)(i.WV.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));n.displayName="Label";var l=n},45666:(e,s,a)=>{"use strict";a.d(s,{D:()=>i});var t=a(24383);function i(e){let s=t.useRef({value:e,previous:e});return t.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[4372,7329,4178,5446,9551,5253,8045,2631,4687],()=>a(59260));module.exports=t})();